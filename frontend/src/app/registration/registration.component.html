
<section class="background-radial-gradient overflow-hidden">
 

  <div class="container px-4 py-5 px-md-5 text-center text-lg-start">
    <div *ngIf="isLoading" class="spinner-overlay">
      <div class="spinner-container">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
    </div>
    <div class="row gx-lg-5 align-items-center mb-5">
      <div class="col-lg-6 mb-5 mb-lg-0 intro-section">
        <div class="intro-badge">Welcome </div>
        <h1 class="my-3 display-3 fw-bold ls-tight">
          Create Your Account<br />
          <span class="text-primary">Join us today!</span>
        </h1>

     
        <div class="trolley-container"> 
          <svg
            class="trolley-animation trolley-shadow"
            width="100%"
            height="100%"
            viewBox="0 0 312 340"
            xmlns="http://www.w3.org/2000/svg"
          >

          <g opacity="0.5">
            <path
              d="M50,200 L100,200"
              stroke="#5980c1"
              stroke-width="1"
              stroke-dasharray="5,5"
            />
            <path
              d="M400,200 L450,200"
              stroke="#5980c1"
              stroke-width="1"
              stroke-dasharray="5,5"
            />
            <path
              d="M250,50 L250,100"
              stroke="#5980c1"
              stroke-width="1"
              stroke-dasharray="5,5"
            />
            <path
              d="M250,300 L250,350"
              stroke="#5980c1"
              stroke-width="1"
              stroke-dasharray="5,5"
            />
        
            <text
              x="70"
              y="180"
              font-family="monospace"
              font-size="8"
              fill="#406cb1"
            >
              110101
            </text>
            <text
              x="390"
              y="180"
              font-family="monospace"
              font-size="8"
              fill="#406cb1"
            >
              001110
            </text>
            <text
              x="240"
              y="90"
              font-family="monospace"
              font-size="8"
              fill="#406cb1"
            >
              101101
            </text>
            <text
              x="240"
              y="330"
              font-family="monospace"
              font-size="8"
              fill="#406cb1"
            >
              111010
            </text>
        
            <path
              d="M50,150 L80,150 L80,180 L120,180 L120,220 L150,220"
              stroke="#7a9bd3"
              stroke-width="1"
              fill="none"
            />
            <path
              d="M350,150 L380,150 L380,180 L420,180 L420,220 L450,220"
              stroke="#7a9bd3"
              stroke-width="1"
              fill="none"
            />
            <circle cx="80" cy="150" r="3" fill="#5980c1" />
            <circle cx="120" cy="180" r="3" fill="#5980c1" />
            <circle cx="380" cy="150" r="3" fill="#5980c1" />
            <circle cx="420" cy="180" r="3" fill="#5980c1" />
          </g>
        
          <!-- Main shield with folder -->
          <g class="float">
            <path
              d="M250,70 L350,100 L350,220 C350,270 300,320 250,340 C200,320 150,270 150,220 L150,100 Z"
              fill="#e5ecf9"
              stroke="#5980c1"
              stroke-width="5"
            />
        
            <path
              d="M250,70 L350,100 L350,220 C350,270 300,320 250,340 C200,320 150,270 150,220 L150,100 Z"
              fill="none"
              stroke="#5980c1"
              stroke-width="2"
              stroke-dasharray="5,5"
              opacity="0.5"
            />
        
            <path
              d="M250,85 L335,110 L335,215 C335,260 290,305 250,322 C210,305 165,260 165,215 L165,110 Z"
              fill="none"
              stroke="#7a9bd3"
              stroke-width="2"
              opacity="0.8"
              class="glow"
            />
            
            <!-- Folder with document -->
            <rect
              x="190"
              y="120"
              width="120"
              height="90"
              rx="5"
              fill="#5980c1"
              stroke="#406cb1"
              stroke-width="2"
            />
            <path
              d="M190,130 H220 V120 H310 V210 H190 Z"
              fill="#7a9bd3"
              stroke="#406cb1"
              stroke-width="2"
            />
            
            <!-- Document with form lines -->
            <rect
              x="210"
              y="140"
              width="80"
              height="100"
              rx="3"
              fill="white"
              stroke="#406cb1"
              stroke-width="1"
            />
            
            <line x1="220" y1="150" x2="280" y2="150" stroke="#7a9bd3" stroke-width="1"/>
            <line x1="220" y1="160" x2="280" y2="160" stroke="#7a9bd3" stroke-width="1"/>
            <line x1="220" y1="170" x2="250" y2="170" stroke="#7a9bd3" stroke-width="1"/>
            
            <line x1="220" y1="185" x2="280" y2="185" stroke="#7a9bd3" stroke-width="1"/>
            <line x1="220" y1="195" x2="280" y2="195" stroke="#7a9bd3" stroke-width="1"/>
            <line x1="220" y1="205" x2="250" y2="205" stroke="#7a9bd3" stroke-width="1"/>
            
            <circle cx="220" cy="225" r="5" fill="#5980c1"/>
            <circle cx="240" cy="225" r="5" fill="#5980c1"/>
          </g>
        
          <!-- User profile icon -->
          <g transform="translate(250, 190)" class="pulse">
            <circle cx="0" cy="-25" r="20" fill="#5980c1" stroke="#406cb1" stroke-width="2" />
            <path
              d="M-30,20 C-30,-10 30,-10 30,20"
              fill="#5980c1"
              stroke="#406cb1"
              stroke-width="2"
            />
            
            <!-- Check mark -->
            <circle cx="25" cy="-10" r="12" fill="#7a9bd3" stroke="#406cb1" stroke-width="1" />
            <path
              d="M20,-10 L23,-7 L30,-14"
              fill="none"
              stroke="white"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </g>
        
          <!-- Password security element -->
          <g transform="translate(180, 260)">
            <rect x="-15" y="-15" width="30" height="30" rx="5" fill="#7a9bd3" />
            <rect x="-10" y="-20" width="20" height="10" rx="2" fill="#406cb1" />
            <circle cx="0" cy="0" r="5" fill="#e5ecf9" />
            <path d="M0,0 L0,5" stroke="#5980c1" stroke-width="2" />
          </g>
        
          <!-- Email icon -->
          <g transform="translate(320, 260)">
            <rect x="-20" y="-15" width="40" height="30" rx="5" fill="#7a9bd3" />
            <path d="M-20,-15 L0,0 L20,-15" fill="none" stroke="#e5ecf9" stroke-width="1" />
            <path d="M-20,15 L0,0 L20,15" fill="none" stroke="#e5ecf9" stroke-width="1" />
          </g>
        
          <!-- Connection lines -->
          <g transform="translate(250, 260)">
            <path
              d="M-50,0 L50,0"
              stroke="#5980c1"
              stroke-width="2"
              stroke-dasharray="5,3"
            />
            <circle cx="-30" cy="0" r="5" fill="#5980c1" />
            <circle cx="0" cy="0" r="5" fill="#5980c1" />
            <circle cx="30" cy="0" r="5" fill="#5980c1" />
          </g>
        
          <!-- Footer text -->
          <text
            x="250"
            y="310"
            font-family="Arial"
            font-size="18"
            text-anchor="middle"
            fill="#5980c1"
            font-weight="bold"
          >REGISTER</text>
        
          <!-- Security badge -->
          <g transform="translate(250, 350)" class="spin">
            <circle
              cx="0"
              cy="0"
              r="25"
              fill="none"
              stroke="#7a9bd3"
              stroke-width="1"
              stroke-dasharray="3,3"
            />
            <text
              x="0"
              y="5"
              font-family="Arial"
              font-size="8"
              text-anchor="middle"
              fill="#5980c1"
            >
              NEW USER
            </text>
          </g>
        
          <!-- Interactive elements -->
          <g transform="translate(180, 150)" class="scan">
            <rect
              x="-20"
              y="-5"
              width="40"
              height="10"
              fill="#e5ecf9"
              opacity="0.3"
            />
          </g>
          
          <g transform="translate(320, 150)" class="scan">
            <rect
              x="-20"
              y="-5"
              width="40"
              height="10"
              fill="#e5ecf9"
              opacity="0.3"
            />
          </g>
          </svg>
        </div>

       
      </div>

      <div class="col-lg-6 mb-5 mb-lg-0 position-relative">
        <div
          id="radius-shape-1"
          class="position-absolute rounded-circle shadow-5-strong"
        ></div>
        <div
          id="radius-shape-2"
          class="position-absolute shadow-5-strong"
        ></div>

        <div class="card bg-glass">
          <div class="card-header">
            <div class="brand-logo"></div>
            <p class="instruction mb-0">Create your account to get started</p>
          </div>
          <div class="card-body px-4 py-4 px-md-5">
            <form
            class="form"
            #registrationForm="ngForm"
            (ngSubmit)="onSubmit(registrationForm)"
          >
            <div class="form-scrollable">
              <!-- Full Name -->

              <div class="form-outline mb-4">
                <label class="form-label" for="profileImage"
                  >Profile Image</label
                >
                <input
                  type="file"
                  id="profileImage"
                  class="form-control"
                  (change)="onFileSelected($event)"
                  accept="image/*"
                  #profileImage="ngModel"
                  ngModel
                  name="profileImage"
                />
                <div class="mt-2" *ngIf="selectedFile">
                  <small>Selected file: {{ selectedFile.name }}</small>
                </div>
              </div>
              <div class="form-outline mb-4">
                <input
                  type="text"
                  id="name"
                  class="form-control"
                  placeholder="Enter Your Full Name"
                  #name="ngModel"
                  ngModel
                  name="name"
                  required
                />
                <label class="form-label" for="name">Full Name</label>
                <div *ngIf="name.invalid && name.touched" class="error">
                  <div *ngIf="name.errors?.['required']">
                    Full Name is required
                  </div>
                </div>
              </div>

              <!-- Date of Birth -->
              <div class="form-outline mb-4">
                <input
                  type="date"
                  id="dob"
                  class="form-control"
                  #dob="ngModel"
                  ngModel
                  name="dob"
                  required
                />
                <label class="form-label" for="dob">Date of Birth</label>
                <div *ngIf="dob.invalid && dob.touched" class="error">
                  <div *ngIf="dob.errors?.['required']">
                    Date of Birth is required
                  </div>
                </div>
              </div>

              <!-- Username -->
              <div class="form-outline mb-4">
                <input
                  type="text"
                  id="username"
                  class="form-control"
                  placeholder="Enter Username"
                  #username="ngModel"
                  ngModel
                  name="username"
                  required
                />
                <label class="form-label" for="username">Username</label>
                <div *ngIf="username.invalid && username.touched" class="error">
                  <div *ngIf="username.errors?.['required']">
                    Username is required
                  </div>
                </div>
              </div>

              <!-- Email -->
              <div class="form-outline mb-4">
                <input
                  type="email"
                  id="email"
                  class="form-control"
                  placeholder="Enter Email"
                  #email="ngModel"
                  ngModel
                  name="email"
                  required
                  pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                />
                <label class="form-label" for="email">Email</label>
                <div *ngIf="email.invalid && email.touched" class="error">
                  <div *ngIf="email.errors?.['required']">
                    Email is required
                  </div>
                  <div *ngIf="email.errors?.['pattern']">
                    Enter a valid email
                  </div>
                </div>
              </div>

              <!-- Gender -->
              <div class="form-outline mb-4">
                <label class="form-label">Gender</label>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    id="male"
                    value="MALE"
                    name="gender"
                    ngModel
                    required
                    #gender="ngModel"
                  />
                  <label class="form-check-label" for="male">MALE</label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    id="female"
                    value="FEMALE"
                    name="gender"
                    ngModel
                    required
                    #gender="ngModel"
                  />
                  <label class="form-check-label" for="female">FEMALE</label>
                </div>

                <div *ngIf="gender.invalid && gender.touched" class="error">
                  <div *ngIf="gender.errors?.['required']">
                    Gender selection is required
                  </div>
                </div>
              </div>

              <!-- Contact Number -->
              <div class="form-outline mb-4">
                <input
                  type="tel"
                  id="contactNumber"
                  class="form-control"
                  placeholder="Enter Contact Number"
                  #contactNumber="ngModel"
                  ngModel
                  name="contactNumber"
                  required
                  pattern="^[0-9]{10}$"
                />
                <label class="form-label" for="contactNumber"
                  >Contact Number</label
                >
                <div
                  *ngIf="contactNumber.invalid && contactNumber.touched"
                  class="error"
                >
                  <div *ngIf="contactNumber.errors?.['required']">
                    Contact Number is required
                  </div>
                  <div *ngIf="contactNumber.errors?.['pattern']">
                    Enter a valid 10-digit contact number
                  </div>
                </div>
              </div>

              <!-- Password -->
              <div class="form-outline mb-4">
                <input
                  type="password"
                  id="password"
                  class="form-control"
                  placeholder="Enter Password"
                  #password="ngModel"
                  ngModel
                  name="password"
                  required
                  pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{7,}$"
                />
                <label class="form-label" for="password">Password</label>
                <div *ngIf="password.invalid && password.touched" class="error">
                  <div *ngIf="password.errors?.['required']">
                    Password is required
                  </div>
                  <div *ngIf="password.errors?.['pattern']">
                    Password must be at least 7 characters long, include one
                    uppercase letter, and one digit.
                  </div>
                </div>
              </div>

              <!-- Address -->
              <div class="form-outline mb-4">
                <textarea
                  id="address"
                  class="form-control"
                  placeholder="Enter Full Address"
                  #address="ngModel"
                  ngModel
                  name="address"
                  required
                  rows="3"
                ></textarea>
                <label class="form-label" for="address">Full Address</label>
                <div *ngIf="address.invalid && address.touched" class="error">
                  <div *ngIf="address.errors?.['required']">
                    Full Address is required
                  </div>
                </div>
              </div>

              <!-- Pin Code -->
              <div class="form-outline mb-4">
                <input
                  type="text"
                  id="pinCode"
                  class="form-control"
                  placeholder="Enter Pin Code"
                  #pinCode="ngModel"
                  ngModel
                  name="pinCode"
                  required
                  pattern="^[0-9]{6}$"
                />
                <label class="form-label" for="pinCode">Pin Code</label>
                <div *ngIf="pinCode.invalid && pinCode.touched" class="error">
                  <div *ngIf="pinCode.errors?.['required']">
                    Pin Code is required
                  </div>
                  <div *ngIf="pinCode.errors?.['pattern']">
                    Enter a valid 6-digit pin code
                  </div>
                </div>
              </div>

              <!-- Role Selection -->
              <div class="form-outline mb-4">
                <label class="form-label" for="roleSelect">Select Role</label>
                <select
                  id="roleSelect"
                  class="form-control"
                  #role="ngModel"
                  ngModel
                  name="role"
                  required
                >
                  <option value="" disabled selected>Select your role</option>
                  <option value="user">User</option>
                </select>
                <div *ngIf="role.invalid && role.touched" class="error">
                  <div *ngIf="role.errors?.['required']">
                    Role selection is required
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-4">
              <button
                type="submit"
                data-mdb-button-init
                data-mdb-ripple-init
                class="btn submit"
                [disabled]="registrationForm.invalid"
              >
                Create Account
              </button>
              <div class="text-center mt-3">
                Already have an account?
                <a routerLink="/login" class="text-primary">Login</a>
              </div>
            </div>
          </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="footer-space"></div>
</section>